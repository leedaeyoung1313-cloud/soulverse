(()=>{var e={};e.id=987,e.ids=[987],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5229:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>p,tree:()=>c}),s(9773),s(1506),s(5866);var r=s(3191),a=s(8716),l=s(7922),n=s.n(l),i=s(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=["",{children:["categories",{children:["compatibility",{children:["[topicKey]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9773)),"C:\\Users\\ASUS\\Desktop\\소울버스 프로젝트\\soulverse_refactored_clean\\app\\categories\\compatibility\\[topicKey]\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"C:\\Users\\ASUS\\Desktop\\소울버스 프로젝트\\soulverse_refactored_clean\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\ASUS\\Desktop\\소울버스 프로젝트\\soulverse_refactored_clean\\app\\categories\\compatibility\\[topicKey]\\page.tsx"],x="/categories/compatibility/[topicKey]/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/categories/compatibility/[topicKey]/page",pathname:"/categories/compatibility/[topicKey]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1589:(e,t,s)=>{Promise.resolve().then(s.bind(s,7971))},440:()=>{},6637:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},7971:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var r=s(326),a=s(7577);function l(e,t,s,r){let a=Number(e);return Number.isNaN(a)?r:Math.max(t,Math.min(s,a))}let n={compatibility_basic:"기본 궁합 리포트",red_line:"레드 라인 궁합 분석",lucky_color:"행운 컬러 & 무드"},i=["ISTJ","ISFJ","INFJ","INTJ","ISTP","ISFP","INFP","INTP","ESTP","ESFP","ENFP","ENTP","ESTJ","ESFJ","ENFJ","ENTJ"],o=["A","B","O","AB"],c=Array.from({length:24},(e,t)=>String(t).padStart(2,"0")),d=["00","05","10","15","20","25","30","35","40","45","50","55"];function x({params:e}){let{topicKey:t}=e,[s,x]=(0,a.useState)(""),[m,p]=(0,a.useState)(""),[u,b]=(0,a.useState)(""),[h,g]=(0,a.useState)(""),[j,v]=(0,a.useState)(""),[N,f]=(0,a.useState)(""),[y,S]=(0,a.useState)(""),[_,w]=(0,a.useState)(""),[P,k]=(0,a.useState)(""),[A,C]=(0,a.useState)(""),[E,I]=(0,a.useState)(!1),[T,M]=(0,a.useState)(null),[U,q]=(0,a.useState)(null),D=(0,a.useMemo)(()=>n[t]??"궁합 분석",[t]),J=m&&u?`${m}:${u}`:void 0,F=y&&_?`${y}:${_}`:void 0,K=(0,a.useMemo)(()=>!!(s&&N&&h&&P),[s,N,h,P]);async function O(e){if(e.preventDefault(),K&&!E){I(!0),q(null),M(null);try{let e=await fetch("/api/compat",{method:"POST",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify({topic:t,man_birth:s,woman_birth:N,man_mbti:h,woman_mbti:P,man_blood:j||void 0,woman_blood:A||void 0,man_time:J,woman_time:F})});if(!e.ok)throw Error(`API ${e.status} 오류`);let r=await e.json();if(r.error)throw Error(r.detail||"AI 분석 중 오류 발생");M({...r,score:l(r.score,30,98,80),facets:function(e){let t={정서:80,소통:80,현실:70,성장:90,지속:80};return e?{정서:l(e["정서"],0,100,t["정서"]),소통:l(e["소통"],0,100,t["소통"]),현실:l(e["현실"],0,100,t["현실"]),성장:l(e["성장"],0,100,t["성장"]),지속:l(e["지속"],0,100,t["지속"])}:t}(r.facets)})}catch(e){q(e.message||"오류가 발생했습니다.")}finally{I(!1)}}}return r.jsx("div",{className:"min-h-screen bg-bg text-txt p-4",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto py-8 space-y-6",children:[(0,r.jsxs)("header",{className:"text-center space-y-2",children:[r.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-muted",children:"SOULVERSE \xb7 COMPAT"}),r.jsx("h1",{className:"text-3xl font-bold",children:D}),r.jsx("p",{className:"text-sm text-muted",children:"사주팔자 \xb7 MBTI \xb7 혈액형을 선택해 궁합을 분석합니다."})]}),r.jsx("section",{className:"bg-card border border-borderc rounded-2xl p-6 shadow-deep",children:(0,r.jsxs)("form",{onSubmit:O,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("h2",{className:"text-sm font-semibold",children:"남자"}),r.jsx("label",{className:"block text-xs text-muted",children:"생년월일"}),r.jsx("input",{type:"date",value:s,onChange:e=>x(e.target.value),className:"w-full bg-bg border border-borderc rounded-md px-3 py-2 text-sm"}),r.jsx("label",{className:"block text-xs text-muted",children:"태어난 시간 (선택)"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("select",{value:m,onChange:e=>p(e.target.value),className:"w-full bg-bg border border-borderc rounded-md px-3 py-2 text-sm",children:[r.jsx("option",{value:"",children:"시 선택"}),c.map(e=>(0,r.jsxs)("option",{value:e,children:[e,"시"]},e))]}),(0,r.jsxs)("select",{value:u,onChange:e=>b(e.target.value),className:"w-full bg-bg border border-borderc rounded-md px-3 py-2 text-sm",children:[r.jsx("option",{value:"",children:"분 선택"}),d.map(e=>(0,r.jsxs)("option",{value:e,children:[e,"분"]},e))]})]}),r.jsx("label",{className:"block text-xs text-muted",children:"MBTI"}),(0,r.jsxs)("select",{value:h,onChange:e=>g(e.target.value),className:"w-full bg-bg border border-borderc rounded-md px-3 py-2 text-sm",children:[r.jsx("option",{value:"",children:"선택"}),i.map(e=>r.jsx("option",{value:e,children:e},e))]}),r.jsx("label",{className:"block text-xs text-muted",children:"혈액형 (선택)"}),(0,r.jsxs)("select",{value:j,onChange:e=>v(e.target.value),className:"w-full bg-bg border border-borderc rounded-md px-3 py-2 text-sm",children:[r.jsx("option",{value:"",children:"선택"}),o.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("h2",{className:"text-sm font-semibold",children:"여자"}),r.jsx("label",{className:"block text-xs text-muted",children:"생년월일"}),r.jsx("input",{type:"date",value:N,onChange:e=>f(e.target.value),className:"w-full bg-bg border border-borderc rounded-md px-3 py-2 text-sm"}),r.jsx("label",{className:"block text-xs text-muted",children:"태어난 시간 (선택)"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("select",{value:y,onChange:e=>S(e.target.value),className:"w-full bg-bg border border-borderc rounded-md px-3 py-2 text-sm",children:[r.jsx("option",{value:"",children:"시 선택"}),c.map(e=>(0,r.jsxs)("option",{value:e,children:[e,"시"]},e))]}),(0,r.jsxs)("select",{value:_,onChange:e=>w(e.target.value),className:"w-full bg-bg border border-borderc rounded-md px-3 py-2 text-sm",children:[r.jsx("option",{value:"",children:"분 선택"}),d.map(e=>(0,r.jsxs)("option",{value:e,children:[e,"분"]},e))]})]}),r.jsx("label",{className:"block text-xs text-muted",children:"MBTI"}),(0,r.jsxs)("select",{value:P,onChange:e=>k(e.target.value),className:"w-full bg-bg border border-borderc rounded-md px-3 py-2 text-sm",children:[r.jsx("option",{value:"",children:"선택"}),i.map(e=>r.jsx("option",{value:e,children:e},e))]}),r.jsx("label",{className:"block text-xs text-muted",children:"혈액형 (선택)"}),(0,r.jsxs)("select",{value:A,onChange:e=>C(e.target.value),className:"w-full bg-bg border border-borderc rounded-md px-3 py-2 text-sm",children:[r.jsx("option",{value:"",children:"선택"}),o.map(e=>r.jsx("option",{value:e,children:e},e))]})]})]}),U&&r.jsx("p",{className:"text-xs text-red-400",children:U}),r.jsx("button",{type:"submit",disabled:E||!K,className:"w-full mt-2 bg-accent text-bg font-semibold rounded-xl px-4 py-3 hover:bg-neon transition-all disabled:opacity-50 relative",children:E?(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("div",{className:"w-4 h-4 border-2 border-bg border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"AI 분석 중..."})]}):"AI 궁합 리포트 받기"})]})}),T&&!U&&(0,r.jsxs)("section",{className:"bg-card border border-borderc rounded-2xl p-6 shadow-deep space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-20 h-20 flex items-center justify-center border-2 border-accent rounded-full bg-bg shadow-[0_0_25px_rgba(125,211,252,0.4)] animate-pulse",children:r.jsx("span",{className:"text-2xl font-bold",children:l(T.score,30,98,80)})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-lg font-semibold mb-1",children:T.oneliner??"함께 성장할 관계입니다."}),r.jsx("p",{className:"text-sm text-muted",children:T.summary??"두 사람의 기질과 현실을 고려해 관계를 조화롭게 만드세요."})]})]}),r.jsx("div",{className:"h-px bg-borderc/50 my-6"}),r.jsx("h3",{className:"text-xl font-bold text-center",children:"5가지 관계 분석 요소"}),r.jsx("p",{className:"text-sm text-muted text-center",children:"정서, 소통, 현실, 성장, 지속성 점수입니다."}),T.facets&&r.jsx("div",{className:"space-y-4",children:Object.entries(T.facets).map(([e,t])=>(0,r.jsxs)("div",{className:"p-3 bg-bg/50 border border-borderc/50 rounded-lg space-y-1 transition-all hover:bg-bg/70",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{children:e}),r.jsx("span",{className:"font-semibold text-accent",children:t})]}),r.jsx("div",{className:"h-2 w-full bg-borderc/60 rounded-full overflow-hidden",children:r.jsx("div",{className:"h-full bg-accent transition-all duration-700",style:{width:`${t}%`}})}),T.explanation?.[e]&&r.jsx("p",{className:"text-xs text-muted pt-1",children:T.explanation?.[e]??""})]},e))}),T.insights&&T.insights.length>0&&(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("h3",{className:"text-lg font-bold text-center",children:"\uD83D\uDCA1 관계 인사이트"}),r.jsx("ul",{className:"space-y-2 p-4 bg-bg/50 border border-borderc/50 rounded-lg text-sm",children:T.insights.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-accent",children:"⚡"})," ",e]},t))})]})]})]})})}},9773:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var r=s(8570);let a=(0,r.createProxy)(String.raw`C:\Users\ASUS\Desktop\소울버스 프로젝트\soulverse_refactored_clean\app\categories\compatibility\[topicKey]\page.tsx`),{__esModule:l,$$typeof:n}=a;a.default;let i=(0,r.createProxy)(String.raw`C:\Users\ASUS\Desktop\소울버스 프로젝트\soulverse_refactored_clean\app\categories\compatibility\[topicKey]\page.tsx#default`)},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>a});var r=s(9510);s(7272);let a={title:"SOULVERSE - AI 운명 분석 리포트",description:"AI가 분석하는 사주, MBTI, 혈액형 종합 운명 리포트"};function l({children:e}){return r.jsx("html",{lang:"ko",children:r.jsx("body",{children:r.jsx("main",{className:"min-h-screen bg-bg text-txt",children:e})})})}},7272:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,471],()=>s(5229));module.exports=r})();